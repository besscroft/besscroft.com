<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-24x24-astronaut.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-astronaut.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-astronaut.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"blog.52bess.com",root:"/",scheme:"Mist",version:"7.8.0",exturl:!0,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!0,color:"#222",save:"auto"},fancybox:!0,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},localsearch:{enable:!0,trigger:"auto",top_n_per_article:-1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><script data-ad-client="ca-pub-1837014247459400" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><meta name="description" content="前言关于操作系统的选择，我还是喜欢把Windows 10作为Host OS，把其它的作为Guest OS，比如一些Linux发行版openSUSE、Ubuntu等，以及用作其它用途的系统。比如我喜欢把迅雷等软件放在虚拟机的Windows系统里面(迅雷之类的软件感觉就是毒瘤，但有时候又需要用，别跟我说还有很多替代软件，我用的也不只是迅雷哦😅)。至于为什么要写这篇文章，因为我身边用ArchLinux"><meta property="og:type" content="article"><meta property="og:title" content="在虚拟机中安装ArchLinux(UEFI)"><meta property="og:url" content="https://blog.52bess.com/posts/2020/helloarchlinux.html"><meta property="og:site_name" content="Bess&#39;s Blog"><meta property="og:description" content="前言关于操作系统的选择，我还是喜欢把Windows 10作为Host OS，把其它的作为Guest OS，比如一些Linux发行版openSUSE、Ubuntu等，以及用作其它用途的系统。比如我喜欢把迅雷等软件放在虚拟机的Windows系统里面(迅雷之类的软件感觉就是毒瘤，但有时候又需要用，别跟我说还有很多替代软件，我用的也不只是迅雷哦😅)。至于为什么要写这篇文章，因为我身边用ArchLinux"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="og:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><meta property="article:published_time" content="2020-01-31T03:25:13.000Z"><meta property="article:modified_time" content="2020-04-29T08:50:23.103Z"><meta property="article:author" content="Bess Croft"><meta property="article:tag" content="Linux"><meta property="article:tag" content="虚拟机"><meta property="article:tag" content="ArchLinux"><meta property="article:tag" content="UEFI启动"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg"><link rel="canonical" href="https://blog.52bess.com/posts/2020/helloarchlinux.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>在虚拟机中安装ArchLinux(UEFI) | Bess's Blog</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Bess's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><script type="text/javascript" src="/js/none.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/besscroft/cdn/css/APlayer.min.css"><div id="aplayer"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/besscroft/cdn/js/APlayer.min.js"></script><script type="text/javascript" src="/dist/music.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/besscroft/cdn/css/DPlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/besscroft/cdn/js/DPlayer.min.js"></script><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Bess's Blog</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">武汉加油！中国加油！</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="tags fa-fw"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i> 分类</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="link fa-fw"></i> 友链</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i> 归档</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="user fa-fw"></i> 关于</a></li><li class="menu-item menu-item-books"><a href="/books/" rel="section"><i class="book fa-fw"></i> 读书</a></li><li class="menu-item menu-item-movies"><a href="/movies/" rel="section"><i class="video-camera fa-fw"></i> 电影</a></li><li class="menu-item menu-item-games"><a href="/games/" rel="section"><i class="gamepad fa-fw"></i> 游戏</a></li><li class="menu-item menu-item-photos"><a href="/photos/" rel="section"><i class="camera-retro fa-fw"></i> 美好时光</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="sitemap fa-fw"></i> 站点地图</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div id="dplayer"></div><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a> <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Jlc3Njcm9mdA==" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></span><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://blog.52bess.com/posts/2020/helloarchlinux.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://www.52bess.com/uploads/avatar.png"><meta itemprop="name" content="Bess Croft"><meta itemprop="description" content="热爱网络技术和开源软件的极客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Bess's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> 在虚拟机中安装ArchLinux(UEFI)</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-01-31 11:25:13" itemprop="dateCreated datePublished" datetime="2020-01-31T11:25:13+08:00">2020-01-31</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-04-29 16:50:23" itemprop="dateModified" datetime="2020-04-29T16:50:23+08:00">2020-04-29</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Valine：</span><a title="valine" href="/posts/2020/helloarchlinux.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/2020/helloarchlinux.html" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>关于操作系统的选择，我还是喜欢把Windows 10作为<strong>Host OS</strong>，把其它的作为<strong>Guest OS</strong>，比如一些Linux发行版openSUSE、Ubuntu等，以及用作其它用途的系统。比如我喜欢把迅雷等软件放在虚拟机的Windows系统里面(迅雷之类的软件感觉就是毒瘤，但有时候又需要用，别跟我说还有很多替代软件，我用的也不只是迅雷哦😅)。至于为什么要写这篇文章，因为我身边用ArchLinux的人慢慢地变多了起来，不过相对于ArchLinux，我还是比较喜欢openSUSE啊😄</p><a id="more"></a><p>ArchLinux有一个与众不同的地方，初始安装的Arch只是一个基本系统，随后用户可以根据自己的喜好安装需要的软件并配置成符合自己理想的系统。很多用户喜欢ArchLinux的原因就是，“以用户为中心”等的<span class="exturl" data-url="aHR0cHM6Ly93aWtpLmFyY2hsaW51eC5vcmcvaW5kZXgucGhwL0FyY2hfTGludXhfKCVFNyVBRSU4MCVFNCVCRCU5MyVFNCVCOCVBRCVFNiU5NiU4Nyk=">Arch之道<i class="fa fa-external-link-alt"></i></span>。如果您觉得安装ArchLinux之流已经满足不了你的折腾需求了，可以尝试<span class="exturl" data-url="aHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGludXhfRnJvbV9TY3JhdGNo">LFS<i class="fa fa-external-link-alt"></i></span>哦！</p><center><b>如果你是初次尝试Linux或者ArchLinux，我建议你从“业余环境”慢慢迁移到“工作环境”！</b></center><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>在安装的过程中，无论遇到什么困难，我们都不要怕，解决问题本身就是一种乐趣。此时，你可以围绕着Google等搜索引擎来寻找解决方案，<span class="exturl" data-url="aHR0cHM6Ly9iYnMuYXJjaGxpbnV4Lm9yZy8=">Arch官方论坛<i class="fa fa-external-link-alt"></i></span>、<span class="exturl" data-url="aHR0cDovL2ZvcnVtLnVidW50dS5vcmcuY24vdmlld2ZvcnVtLnBocD9mPTE1NQ==">Ubuntu中文论坛Arch专区<i class="fa fa-external-link-alt"></i></span>、<span class="exturl" data-url="aXJjOi8vaXJjLmZyZWVub2RlLm5ldC8jYXJjaGxpbnV4LWNu">IRC频道:archlinux-cn<i class="fa fa-external-link-alt"></i></span>等，都是不错的地方。好在，ArchLinux官方提供了非常详细的Wiki👍</p><h3 id="下载镜像"><a href="#下载镜像" class="headerlink" title="下载镜像"></a>下载镜像</h3><p>你可以去<span class="exturl" data-url="aHR0cHM6Ly93d3cuYXJjaGxpbnV4Lm9yZy9kb3dubG9hZC8=">官网下载<i class="fa fa-external-link-alt"></i></span>，或者使用国内外的镜像源进行下载。不管从哪里下载，我都建议你<strong>验证GnuPG签名！！！</strong></p><h3 id="虚拟机准备"><a href="#虚拟机准备" class="headerlink" title="虚拟机准备"></a>虚拟机准备</h3><p>新建虚拟机</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux01.png" alt></p><p>选择<code>典型</code>，然后下一步</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux02.png" alt></p><p>选择<code>稍后安装操作系统</code>，然后下一步</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux03.png" alt></p><p>然后客户机操作系统选择<code>Linux</code>，版本为<code>其他 Linux 5.x 或更高版本内核 64 位</code>。</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux04.png" alt></p><p>虚拟机名称和位置请自定义吧，<strong>最好别用中文</strong>(我没试过中文能不能成功，但最好别用)。</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux05.png" alt></p><p>磁盘大小我选择60GB，这个根据实际需求来就好啦！</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux06.png" alt></p><p>到这一步，我们选择<code>自定义硬件</code></p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux07.png" alt></p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux08.png" alt></p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux09.png" alt></p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux10.png" alt></p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux11.png" alt></p><p>然后，选择完成即可！</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux12.png" alt></p><p>选择<code>编辑虚拟机设置</code></p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux13.png" alt></p><p>选择<code>选项</code>–&gt;<code>高级</code>，然后选择<code>固件类型</code>为<code>UEFI</code>，然后点击确定。这一步非常重要，不能忽略！</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>启动虚拟机之后，会看到如下画面：</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux14.png" alt></p><p>选择第一个 <code>Arch Linux archiso x86_64 UEFI CD</code>，按下回车键。</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux15.png" alt></p><p>过一会儿，就能进入U盘中的系统啦，也就是Live CD(据说有些Linux发行版，就只是在Live CD中运行的哦)。这一步可以输入<code>ls</code>查看到当前目录下，有一个叫做<code>install.txt</code>文件，它就是安装教程啦！可以输入命令 <code>cat i</code> + tab 键自动补全后回车查看（<code>shift + pgup/pgdn</code> 可上下翻页），也可用 <code>vim</code> 或 <code>nano</code> 查看。</p><h3 id="验证启动模式"><a href="#验证启动模式" class="headerlink" title="验证启动模式"></a>验证启动模式</h3><p>刚才我们不是设置的UEFI启动嘛？这时候来验证一下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ls /sys/firmware/efi/efivars</span></span><br></pre></td></tr></table></figure><p>如果有输出，确认启动模式为UEFI，就没问题啦。</p><h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><p>确保系统启用了网络接口：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ip link</span></span><br></pre></td></tr></table></figure><p>使用<code>dhcpcd</code>联网：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dhcpcd</span></span><br></pre></td></tr></table></figure><div class="note info"><p>-c 参数：用于指定 ping 的次数</p></div><h3 id="更新系统时间"><a href="#更新系统时间" class="headerlink" title="更新系统时间"></a>更新系统时间</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># timedatectl set-ntp true</span></span><br></pre></td></tr></table></figure><p>检查：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># timedatectl status</span></span><br></pre></td></tr></table></figure><h3 id="硬盘分区"><a href="#硬盘分区" class="headerlink" title="硬盘分区"></a>硬盘分区</h3><p>到了重要的一步了，硬盘分区。先说说我的分区方案：</p><table><thead><tr><th>分区</th><th>分区类型</th><th>大小</th><th>描述</th><th>挂载点</th></tr></thead><tbody><tr><td>/dev/sda1</td><td>EFI system partition</td><td>512M</td><td>EFI引导分区</td><td>/mnt/boot</td></tr><tr><td>/dev/sda2</td><td>Linux swap</td><td>4G</td><td>交换分区</td><td>swap</td></tr><tr><td>/dev/sda3</td><td>/</td><td>剩下所有的</td><td>系统根分区</td><td>/mnt</td></tr></tbody></table><p>查看硬盘的信息，核对无误后再上手操作：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fdisk -l</span></span><br></pre></td></tr></table></figure><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux16.png" alt></p><h4 id="开始分区"><a href="#开始分区" class="headerlink" title="开始分区"></a>开始分区</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fdisk /dev/sda</span></span><br></pre></td></tr></table></figure><p>进入分区程序。输入 <strong>m</strong> 可以查看 fdisk 的帮助。<strong>在决定写入之前，所有的更改都不会被保存。</strong></p><blockquote><ul><li>创建分区表，输入 <code>g</code> 创建一个全新的 GPT (GUID Partition Table) 分区表。</li><li>输入 <strong>n</strong> 建立第一个分区，这里我们创建的是sda1分区</li><li>分区类型默认回车，分区序号默认回车，起始扇区默认回车，结束扇区输入 <code>+512M</code> 回车。</li></ul></blockquote><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux17.png" alt></p><p>依此类推，我们还需要创建交换分区和根分区：</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux18.png" alt></p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux19.png" alt></p><h4 id="修改分区类型"><a href="#修改分区类型" class="headerlink" title="修改分区类型"></a>修改分区类型</h4><p>按 <strong>t</strong> ，会询问需要修改的分区号，然后则是询问你要修改的类型（按 L 会列出各个分区类型的编号），编号 <strong>1</strong> 是 <strong>EFI System Partition</strong> ，编号 <strong>19</strong> 是 <strong>swap</strong> ，分区3的类型不做修改（默认的分区类型是 Linux Filesystem）。</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux20.png" alt></p><p>最后，我们输入w，将改动输入到硬盘：</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux21.png" alt></p><p>此时，我们来确认下有没有生效：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fdisk -l /dev/sda</span></span><br></pre></td></tr></table></figure><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux22.png" alt></p><h4 id="格式化，并设置swap分区"><a href="#格式化，并设置swap分区" class="headerlink" title="格式化，并设置swap分区"></a>格式化，并设置swap分区</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mkfs.fat -F32 /dev/sda1</span></span><br><span class="line"><span class="comment"># mkswap /dev/sda2</span></span><br><span class="line"><span class="comment"># mkfs.ext4 /dev/sda3</span></span><br></pre></td></tr></table></figure><h4 id="启用交换分区"><a href="#启用交换分区" class="headerlink" title="启用交换分区"></a>启用交换分区</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># swapon /dev/sda2</span></span><br></pre></td></tr></table></figure><p>查看是否启用成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># swapon --show</span></span><br></pre></td></tr></table></figure><h4 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mount /dev/sda3 /mnt</span></span><br><span class="line"><span class="comment"># mkdir /mnt/boot</span></span><br><span class="line"><span class="comment"># mount /dev/sda1 /mnt/boot</span></span><br></pre></td></tr></table></figure><p>然后查看是否成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lsblk</span></span><br></pre></td></tr></table></figure><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux23.png" alt></p><h3 id="选择镜像源"><a href="#选择镜像源" class="headerlink" title="选择镜像源"></a>选择镜像源</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /etc/pacman.d/mirrorlist</span></span><br></pre></td></tr></table></figure><p>然后输入<code>:set nu</code>，按下回车键后，让vim显示行号。</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux24.png" alt></p><p>然后找到第19行的China。</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux25.png" alt></p><p>输入大写字母<code>V</code>，然后按<code>d</code>进行剪切，然后把光标移到第6行，按<code>p</code>进行粘贴。</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux26.png" alt></p><p>然后输入<code>:wq</code>，回车，保存并退出。</p><h3 id="安装软件包"><a href="#安装软件包" class="headerlink" title="安装软件包"></a>安装软件包</h3><p>使用 <code>pacstrap</code> 脚本，安装 <em>base</em> 软件包和 Linux 内核以及常规硬件的固件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pacstrap /mnt base linux linux-firmware</span></span><br></pre></td></tr></table></figure><p>注意，这里的<code>fiemware</code>，不要输成<code>fireware</code>了😂</p><p>安装网络管理器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pacstrap /mnt networkmanager</span></span><br></pre></td></tr></table></figure><h3 id="配置系统"><a href="#配置系统" class="headerlink" title="配置系统"></a>配置系统</h3><h4 id="生成挂载表"><a href="#生成挂载表" class="headerlink" title="生成挂载表"></a>生成挂载表</h4><p><strong>fstab</strong> 文件可用于定义磁盘分区，包括各种块设备或者远程文件系统应该如何装入到文件系统。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># genfstab -U -p /mnt &gt;&gt; /mnt/etc/fstab</span></span><br></pre></td></tr></table></figure><p>检查一下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /mnt/etc/fstab</span></span><br></pre></td></tr></table></figure><p>确认无误。</p><h3 id="arch-chroot"><a href="#arch-chroot" class="headerlink" title="arch-chroot"></a>arch-chroot</h3><p>切换到安装的新系统</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># arch-chroot /mnt</span></span><br></pre></td></tr></table></figure><p>这意味着在 <code>exit</code> 之前，下面所有的操作都是在硬盘中的系统中运行，而非 U 盘。</p><h4 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span><br></pre></td></tr></table></figure><p>将硬件时钟设置为当前系统时间：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># hwclock --systohc --utc</span></span><br></pre></td></tr></table></figure><p>安装vim：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S vim</span><br></pre></td></tr></table></figure><h4 id="配置系统语言环境："><a href="#配置系统语言环境：" class="headerlink" title="配置系统语言环境："></a>配置系统语言环境：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># vim /etc/locale.gen</span></span><br></pre></td></tr></table></figure><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux27.png" alt></p><p>找到 <code>#en_US.UTF-8 UTF-8</code> 这一行，光标移动到开头的 <code>#</code> ，然后输入 <code>x</code> ，再键入 <code>:wq</code> 保存并退出即可。同样的操作，把<code>zh_CN.UTF-8 UTF-8</code>也整一个。</p><p>接着执行 <code>locale-gen</code> 以生成 <code>locale</code> 信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># locale-gen</span></span><br></pre></td></tr></table></figure><p>创建 <code>locale.conf</code> 文件，并相应地设置 <code>LANG</code> 变量：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># echo LANG=en_US.UTF-8 &gt; /etc/locale.conf</span></span><br></pre></td></tr></table></figure><div class="note warning"><p>在<b>/etc/locale.conf</b>中设置的locale是全局有效的，所以只建议设置<b>LANG=en_US.UTF-8</b>，也就是上门这条指令所设置的内容。因为在这里设置了<b>中文locale</b>的话，会导致<b>tty</b>乱码。但是你可以在图形界面中单独启用<b>中文locale</b>。具体可以参考<span class="exturl" data-url="aHR0cHM6Ly93aWtpLmFyY2hsaW51eC5vcmcvaW5kZXgucGhwL0xvY2FsaXphdGlvbi9TaW1wbGlmaWVkX0NoaW5lc2VfKCVFNyVBRSU4MCVFNCVCRCU5MyVFNCVCOCVBRCVFNiU5NiU4Nyk=">官方Wiki<i class="fa fa-external-link-alt"></i></span></p></div><h4 id="设置主机名"><a href="#设置主机名" class="headerlink" title="设置主机名"></a>设置主机名</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># echo arch &gt; /etc/hostname</span></span><br></pre></td></tr></table></figure><p>你可以把<code>arch</code>设置成自己的自定义主机名。</p><p>添加信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># vim /etc/hosts</span></span><br></pre></td></tr></table></figure><p>按<code>i</code>编辑内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Static table lookup for hostnames.</span></span><br><span class="line"><span class="comment"># See hosts(5) for details.</span></span><br><span class="line">127.0.0.1   localhost</span><br><span class="line">::1         localhost</span><br><span class="line">127.0.1.1   arch.localdomain arch</span><br></pre></td></tr></table></figure><p>如果你上面修改了<code>arch</code>，这里的也得改哦，主机名可以自定义，但要保持一致！</p><p>填写完成后就键入 <code>Esc</code> 键，退回命令模式，再键入 <code>:wq</code> 保存并退出。</p><p>将 <em>NetworkManager</em> 服务设为开机自启：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># systemctl enable NetworkManager</span></span><br></pre></td></tr></table></figure><h4 id="设置-root-的密码"><a href="#设置-root-的密码" class="headerlink" title="设置 root 的密码"></a>设置 root 的密码</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># passwd</span></span><br></pre></td></tr></table></figure><p>输入后回车即可，输入时无显示，需输入两次。</p><h4 id="安装引导程序"><a href="#安装引导程序" class="headerlink" title="安装引导程序"></a>安装引导程序</h4><blockquote><ul><li>default – 默认加载的配置文件 (不含 .conf 后缀)。</li><li>timeout – 启动选单的超时时间,如果不设置的话,启动选单只有在按键时才显示。</li><li>editor - 是否允许用户编辑内核参数。 yes 是允许, no 是阻止。</li></ul></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># bootctl --path=/boot install</span></span><br></pre></td></tr></table></figure><p>用 vim 编辑 <code>/boot/loader/loader.conf</code> ：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># vim /boot/loader/loader.conf</span></span><br></pre></td></tr></table></figure><p>如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">default  arch</span><br><span class="line">timeout  5</span><br><span class="line">console-mode max</span><br><span class="line">editor   no</span><br></pre></td></tr></table></figure><h4 id="添加启动选项："><a href="#添加启动选项：" class="headerlink" title="添加启动选项："></a>添加启动选项：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># vim /boot/loader/entries/arch.conf</span></span><br></pre></td></tr></table></figure><p>编辑如下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title   Arch Linux</span><br><span class="line">linux   /vmlinuz-linux</span><br><span class="line">initrd  /initramfs-linux.img</span><br><span class="line">options root=PARTUUID=</span><br></pre></td></tr></table></figure><p>保存并退出编辑后，我们执行一下这么一行命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># blkid -s PARTUUID -o value /dev/sda3 &gt;&gt; /boot/loader/entries/arch.conf</span></span><br></pre></td></tr></table></figure><p>上面的命令将会把根分区的UUID的值追加到 <code>/boot/loader/entries/arch.conf</code> 的最后一行。</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux28.png" alt></p><p>此时，可能是这样的，你需要用 vim 编辑 <code>/boot/loader/entries/arch.conf</code> ，将文件改成这样：</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux29.png" alt></p><h4 id="重启系统"><a href="#重启系统" class="headerlink" title="重启系统"></a>重启系统</h4><p>回退到Live CD环境</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@archiso /]<span class="comment"># exit</span></span><br></pre></td></tr></table></figure><p>执行重启命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># systemctl reboot</span></span><br></pre></td></tr></table></figure><p>重启后会出现如图所示：</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux30.png" alt></p><p>选择第一个，<code>Arch Linux</code>，进入系统，然后输入用户名和密码。</p><h4 id="新建普通用户"><a href="#新建普通用户" class="headerlink" title="新建普通用户"></a>新建普通用户</h4><p>先安装sudo软件包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># pacman -S sudo</span></span><br></pre></td></tr></table></figure><p>配置 <code>sudoers</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># EDITOR=vim visudo</span></span><br></pre></td></tr></table></figure><p>找到这一行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># %wheel ALL=(ALL) ALL</span></span><br></pre></td></tr></table></figure><p>去掉找到的那一行开头的注释，即 <strong>#</strong> 和 <strong>空格</strong> ，不要误删掉 <strong>%</strong> 哦。弄完之后保存即可:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%wheel ALL=(ALL) ALL</span><br></pre></td></tr></table></figure><div class="note info"><p>去掉注释的作用：取消注释以允许 wheel 组成员执行任何命令</p></div> 添加一个 wheel 组普通用户:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># useradd -m -g users -G wheel -s /bin/bash 你想要取的用户名</span></span><br></pre></td></tr></table></figure><p>设置普通用户的密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># passwd archie</span></span><br></pre></td></tr></table></figure><h4 id="VMware-相关软件包和服务"><a href="#VMware-相关软件包和服务" class="headerlink" title="VMware 相关软件包和服务"></a>VMware 相关软件包和服务</h4><p>安装 <code>open-vm-tools</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># sudo pacman -S open-vm-tools</span></span><br></pre></td></tr></table></figure><p>将 <code>vmtoolsd</code> 和 <code>vmware-vmblock-fuse</code> 两个服务设为开机自启:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># systemctl enable vmtoolsd vmware-vmblock-fuse</span></span><br></pre></td></tr></table></figure><p>安装 <code>gtkmm3</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># sudo pacman -S gtkmm3</span></span><br></pre></td></tr></table></figure><p>安装相关驱动:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># sudo pacman -S xf86-input-vmmouse xf86-video-vmware mesa</span></span><br></pre></td></tr></table></figure><p>如果你不明白这几步干嘛的，可以查阅<span class="exturl" data-url="aHR0cHM6Ly93aWtpLmFyY2hsaW51eC5vcmcvaW5kZXgucGhwL1ZNd2FyZS9JbnN0YWxsaW5nX0FyY2hfYXNfYV9ndWVzdF8oJUU3JUFFJTgwJUU0JUJEJTkzJUU0JUI4JUFEJUU2JTk2JTg3KSNPcGVuLVZNLVRvb2xz">官方Wiki<i class="fa fa-external-link-alt"></i></span></p><h3 id="安装桌面环境"><a href="#安装桌面环境" class="headerlink" title="安装桌面环境"></a>安装桌面环境</h3><p>到了这一步，很多人都会卡在KDE和GNOME之间怎么选择了。2个我都用过，也不好说谁更好用。单纯从使用习惯和风格来考虑。GNOME更像macos的那种风格，而KDE更像Windows的风格。</p><h4 id="1-GNOME桌面"><a href="#1-GNOME桌面" class="headerlink" title="1.GNOME桌面"></a>1.GNOME桌面</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># sudo pacman -S xorg xorg-server xorg-xinit gnome gnome-extra</span></span><br><span class="line">[root@arch ~]<span class="comment"># systemctl enable gdm</span></span><br></pre></td></tr></table></figure><h4 id="2-KDE桌面"><a href="#2-KDE桌面" class="headerlink" title="2.KDE桌面"></a>2.KDE桌面</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># sudo pacman -S xorg plasma-meta</span></span><br></pre></td></tr></table></figure><h4 id="3-LightDM"><a href="#3-LightDM" class="headerlink" title="3.LightDM"></a>3.LightDM</h4><p>可以选择用LightDM替换GNOME</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># sudo pacman -S lightdm lightdm-gtk-greeter</span></span><br><span class="line">[root@arch ~]<span class="comment"># systemctl disable gdm</span></span><br><span class="line">[root@arch ~]<span class="comment"># systemctl enable lightdm</span></span><br></pre></td></tr></table></figure><p>重启系统，选择 Gnome on Xorg 启动。</p><p>同时，发现启动界面有两个重复的 Gnome 选项，解决方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># sudo mv /usr/share/wayland-sessions/gnome.desktop /usr/share/wayland-sessions/gnome.desktop.bak</span></span><br></pre></td></tr></table></figure><h4 id="完善显卡驱动-可选"><a href="#完善显卡驱动-可选" class="headerlink" title="完善显卡驱动(可选)"></a>完善显卡驱动(可选)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]<span class="comment"># sudo pacman -S xf86-video-intel intel-media-driver vulkan-intel xf86-video-amdgpu xf86-video-ati mesa-vdpau vulkan-radeon</span></span><br></pre></td></tr></table></figure><h3 id="显示管理器"><a href="#显示管理器" class="headerlink" title="显示管理器"></a>显示管理器</h3><p>安装 <code>sddm</code> ：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]<span class="comment"># sudo pacman -S sddm</span></span><br></pre></td></tr></table></figure><p>将 <code>sddm</code>服务设为开机自启：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]<span class="comment"># systemctl enable sddm</span></span><br></pre></td></tr></table></figure><p>重启虚拟机：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[admin@arch ~]<span class="comment"># systemctl reboot</span></span><br></pre></td></tr></table></figure><p>重启后，即可进入图形系统。</p><h2 id="安装完之后"><a href="#安装完之后" class="headerlink" title="安装完之后"></a>安装完之后</h2><h3 id="安装终端"><a href="#安装终端" class="headerlink" title="安装终端"></a>安装终端</h3><p>按下 <code>Ctrl + Alt + F2</code> 切换至 <code>tty2</code> ，登录，然后输入命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@arch ~]<span class="comment"># sudo pacman -S deepin-terminal</span></span><br></pre></td></tr></table></figure><p>然后按下 <code>Ctrl + Alt + F1</code> 切换至桌面环境。</p><h3 id="yay"><a href="#yay" class="headerlink" title="yay"></a>yay</h3><p>对于 Arch Linux，最具特色也是最强大的莫过于它丰富的 AUR (Arch User Repository)，而 yay 就是一个安装这个仓库的软件的便捷工具。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://aur.archlinux.org/yay.git</span><br><span class="line">$ <span class="built_in">cd</span> yay</span><br><span class="line">$ makepkg -si</span><br><span class="line">$ <span class="built_in">cd</span> ..</span><br><span class="line">$ rm -rf yay</span><br></pre></td></tr></table></figure><h3 id="一些工具"><a href="#一些工具" class="headerlink" title="一些工具"></a>一些工具</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S git vim wget curl ntfs-3g exfat-utils p7zip unzip unrar</span><br></pre></td></tr></table></figure><h3 id="安装chromium"><a href="#安装chromium" class="headerlink" title="安装chromium"></a>安装chromium</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S chromium</span><br></pre></td></tr></table></figure><h3 id="安装中文字体"><a href="#安装中文字体" class="headerlink" title="安装中文字体"></a>安装中文字体</h3><p>打开终端，执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S base-devel git</span><br><span class="line">$ git <span class="built_in">clone</span> https://aur.archlinux.org/noto-fonts-sc.git</span><br><span class="line">$ <span class="built_in">cd</span> noto-fonts-sc</span><br><span class="line">$ makepkg -si</span><br><span class="line">$ sudo pacman -S noto-fonts-emoji</span><br></pre></td></tr></table></figure><p>上面的命令可能需要代理。。。</p><h3 id="安装-shadowsocks-qt5"><a href="#安装-shadowsocks-qt5" class="headerlink" title="安装 shadowsocks-qt5"></a>安装 shadowsocks-qt5</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S shadowsocks-qt5</span><br></pre></td></tr></table></figure><h3 id="安装文件管理器"><a href="#安装文件管理器" class="headerlink" title="安装文件管理器"></a>安装文件管理器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S dolphin</span><br></pre></td></tr></table></figure><h3 id="安装归档管理器"><a href="#安装归档管理器" class="headerlink" title="安装归档管理器"></a>安装归档管理器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S p7zip unrar zip unzip engrampa</span><br></pre></td></tr></table></figure><p>然后，其它的自己去diy吧😀</p><h2 id="Arch信仰"><a href="#Arch信仰" class="headerlink" title="Arch信仰"></a>Arch信仰</h2><p>安装<code>neofetch</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S neofetch</span><br></pre></td></tr></table></figure><p>然后在终端输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ neofetch</span><br></pre></td></tr></table></figure><p>呐：</p><p><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="helloarchlinux/helloarchlinux31.jpg" alt></p></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div></div></div><div class="reward-container"><div>请我喝杯咖啡吧！</div> <button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'> 打赏</button><div id="qr" style="display:none"><div style="display:inline-block"> <img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="/images/wechatpay.png" alt="Bess Croft 微信支付"><p>微信支付</p></div><div style="display:inline-block"> <img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="/images/alipay.jpg" alt="Bess Croft 支付宝"><p>支付宝</p></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> Bess Croft</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://blog.52bess.com/posts/2020/helloarchlinux.html" title="在虚拟机中安装ArchLinux(UEFI)">https://blog.52bess.com/posts/2020/helloarchlinux.html</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div><div class="followme"><p>欢迎关注我的其它发布渠道哦！</p><div class="social-list"><div class="social-item"> <a target="_blank" class="social-link" href="/images/wechat_channel.jpg"><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="/images/wechat_channel.jpg" width="100px" height="100px"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></a></div><div class="social-item"> <a target="_blank" class="social-link" href="/images/RSS.png"><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="/images/RSS.png" width="100px" height="100px"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Linux/" rel="tag"><i class="fa fa-tag"></i> Linux</a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="tag"><i class="fa fa-tag"></i> 虚拟机</a><a href="/tags/ArchLinux/" rel="tag"><i class="fa fa-tag"></i> ArchLinux</a><a href="/tags/UEFI%E5%90%AF%E5%8A%A8/" rel="tag"><i class="fa fa-tag"></i> UEFI启动</a></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/2020/centoskernrlup.html" rel="prev" title="Linux系统手动更换内核"><i class="fa fa-chevron-left"></i> Linux系统手动更换内核</a></div><div class="post-nav-item"> <a href="/posts/2020/gpg.html" rel="next" title="GPG与在GitHub上使用GPG">GPG与在GitHub上使用GPG<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#准备工作"><span class="nav-number">2.</span> <span class="nav-text">准备工作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#下载镜像"><span class="nav-number">2.1.</span> <span class="nav-text">下载镜像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#虚拟机准备"><span class="nav-number">2.2.</span> <span class="nav-text">虚拟机准备</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装"><span class="nav-number">3.</span> <span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#验证启动模式"><span class="nav-number">3.1.</span> <span class="nav-text">验证启动模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#网络"><span class="nav-number">3.2.</span> <span class="nav-text">网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#更新系统时间"><span class="nav-number">3.3.</span> <span class="nav-text">更新系统时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#硬盘分区"><span class="nav-number">3.4.</span> <span class="nav-text">硬盘分区</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#开始分区"><span class="nav-number">3.4.1.</span> <span class="nav-text">开始分区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改分区类型"><span class="nav-number">3.4.2.</span> <span class="nav-text">修改分区类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#格式化，并设置swap分区"><span class="nav-number">3.4.3.</span> <span class="nav-text">格式化，并设置swap分区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#启用交换分区"><span class="nav-number">3.4.4.</span> <span class="nav-text">启用交换分区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#挂载分区"><span class="nav-number">3.4.5.</span> <span class="nav-text">挂载分区</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#选择镜像源"><span class="nav-number">3.5.</span> <span class="nav-text">选择镜像源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装软件包"><span class="nav-number">3.6.</span> <span class="nav-text">安装软件包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置系统"><span class="nav-number">3.7.</span> <span class="nav-text">配置系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#生成挂载表"><span class="nav-number">3.7.1.</span> <span class="nav-text">生成挂载表</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#arch-chroot"><span class="nav-number">3.8.</span> <span class="nav-text">arch-chroot</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#设置时区"><span class="nav-number">3.8.1.</span> <span class="nav-text">设置时区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置系统语言环境："><span class="nav-number">3.8.2.</span> <span class="nav-text">配置系统语言环境：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置主机名"><span class="nav-number">3.8.3.</span> <span class="nav-text">设置主机名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置-root-的密码"><span class="nav-number">3.8.4.</span> <span class="nav-text">设置 root 的密码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装引导程序"><span class="nav-number">3.8.5.</span> <span class="nav-text">安装引导程序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加启动选项："><span class="nav-number">3.8.6.</span> <span class="nav-text">添加启动选项：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#重启系统"><span class="nav-number">3.8.7.</span> <span class="nav-text">重启系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#新建普通用户"><span class="nav-number">3.8.8.</span> <span class="nav-text">新建普通用户</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#VMware-相关软件包和服务"><span class="nav-number">3.8.9.</span> <span class="nav-text">VMware 相关软件包和服务</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装桌面环境"><span class="nav-number">3.9.</span> <span class="nav-text">安装桌面环境</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-GNOME桌面"><span class="nav-number">3.9.1.</span> <span class="nav-text">1.GNOME桌面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-KDE桌面"><span class="nav-number">3.9.2.</span> <span class="nav-text">2.KDE桌面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-LightDM"><span class="nav-number">3.9.3.</span> <span class="nav-text">3.LightDM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#完善显卡驱动-可选"><span class="nav-number">3.9.4.</span> <span class="nav-text">完善显卡驱动(可选)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#显示管理器"><span class="nav-number">3.10.</span> <span class="nav-text">显示管理器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装完之后"><span class="nav-number">4.</span> <span class="nav-text">安装完之后</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安装终端"><span class="nav-number">4.1.</span> <span class="nav-text">安装终端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#yay"><span class="nav-number">4.2.</span> <span class="nav-text">yay</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#一些工具"><span class="nav-number">4.3.</span> <span class="nav-text">一些工具</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装chromium"><span class="nav-number">4.4.</span> <span class="nav-text">安装chromium</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装中文字体"><span class="nav-number">4.5.</span> <span class="nav-text">安装中文字体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装-shadowsocks-qt5"><span class="nav-number">4.6.</span> <span class="nav-text">安装 shadowsocks-qt5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装文件管理器"><span class="nav-number">4.7.</span> <span class="nav-text">安装文件管理器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装归档管理器"><span class="nav-number">4.8.</span> <span class="nav-text">安装归档管理器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Arch信仰"><span class="nav-number">5.</span> <span class="nav-text">Arch信仰</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <a href="/"><img class="site-author-image" itemprop="image" alt="Bess Croft" src="https://www.52bess.com/uploads/avatar.png"></a><p class="site-author-name" itemprop="name">Bess Croft</p><div class="site-description" itemprop="description">热爱网络技术和开源软件的极客</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">30</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">17</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">37</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Jlc3Njcm9mdA==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;besscroft"><i class="fab fa-github fa-fw"></i> GitHub</span></span><span class="links-of-author-item"><span class="exturl" data-url="bWFpbHRvOmJlc3Njcm9mdEBmb3htYWlsLmNvbQ==" title="E-Mail → mailto:besscroft@foxmail.com"><i class="fa fa-envelope fa-fw"></i> E-Mail</span></span></div><div class="cc-license motion-element" itemprop="license"> <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="globe fa-fw"></i> 一些♂链接</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <span class="exturl" data-url="aHR0cHM6Ly81MmJlc3MuY29t" title="https:&#x2F;&#x2F;52bess.com">主站</span></li><li class="links-of-blogroll-item"> <a href="https://blog.52bess.com/about/" title="https:&#x2F;&#x2F;blog.52bess.com&#x2F;about&#x2F;">关于此博客</a></li><li class="links-of-blogroll-item"> <span class="exturl" data-url="aHR0cHM6Ly9yZXN1bWUuNTJiZXNzLmNvbS9wdWJsaWMv" title="https:&#x2F;&#x2F;resume.52bess.com&#x2F;public&#x2F;">简历</span></li><li class="links-of-blogroll-item"> <span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLjUyYmVzcy5jb20v" title="https:&#x2F;&#x2F;mirrors.52bess.com&#x2F;">神奇海螺镜像站</span></li><li class="links-of-blogroll-item"> <a href="https://blog.52bess.com/" title="https:&#x2F;&#x2F;blog.52bess.com">博客</a></li><li class="links-of-blogroll-item"> <span class="exturl" data-url="aHR0cHM6Ly9iZXNzY2xvdWQuY2Y=" title="https:&#x2F;&#x2F;besscloud.cf">海螺小店</span></li></ul></div></div><div id="days"></div><script>function show_date_time(){window.setTimeout("show_date_time()",1e3),BirthDay=new Date("10/08/2018 10:00:00"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=setzero(Math.floor(e_hrsold)),e_minsold=60*(e_hrsold-hrsold),minsold=setzero(Math.floor(60*(e_hrsold-hrsold))),seconds=setzero(Math.floor(60*(e_minsold-minsold))),document.getElementById("days").innerHTML="已运行 "+daysold+" 天 "+hrsold+" 小时 "+minsold+" 分 "+seconds+" 秒"}function setzero(e){return e<10&&(e="0"+e),e}show_date_time()</script></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><span class="exturl" data-url="aHR0cDovL3d3dy5iZWlhbi5taWl0Lmdvdi5jbg==">鄂ICP备18028478号-4</span></div><div class="copyright"> &copy; 2018 – <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Bess Croft</span></div><div class="powered-by">由 <span class="exturl theme-link" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Jlc3Njcm9mdA==">BessCroft</span> & <span class="exturl theme-link" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQvaGV4by10aGVtZS1uZXh0">NexT 7.8.0.</span> 强力驱动</div><div class="footer-end"><div class="footer-end1"> <a href="https://www.jsdelivr.com/" target="_blank" alt="Free CDN" rel="nofollow"><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="https://cdn.jsdelivr.net/gh/besscroft/cdn/img/icon/JsDelivr.png" alt="jsDelivr" style="height:2em;max-height:2em;padding-bottom:0"></a></div>&nbsp;&nbsp;<div class="footer-end1"> <a href="https://github.com/" target="_blank" alt="Github" rel="nofollow"><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="https://cdn.jsdelivr.net/gh/besscroft/cdn/img/icon/Github.png" alt="github" style="height:2.2em;max-height:2.5em;padding-bottom:0"></a></div>&nbsp;&nbsp;<div class="footer-end1"> <a href="https://www.netlify.com/" target="_blank" alt="Server provider" rel="nofollow"><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="https://cdn.jsdelivr.net/gh/besscroft/cdn/img/icon/netlify.png" alt="netlify" style="height:2.2em;max-height:2.5em;padding-bottom:0"></a></div>&nbsp;&nbsp;<div class="footer-end1"> <a href="https://cloud.google.com/" target="_blank" alt="Server provider" rel="nofollow"><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="https://cdn.jsdelivr.net/gh/besscroft/cdn/img/icon/google-cloud.png" alt="googlecloud" style="height:2.2em;max-height:2.5em;padding-bottom:0"></a></div>&nbsp;&nbsp;<div class="footer-end1"> <a href="https://www.aliyun.com" target="_blank" alt="Server provider" rel="nofollow"><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="https://cdn.jsdelivr.net/gh/besscroft/cdn/img/icon/aliyun.png" alt="aliyun" style="height:2.2em;max-height:2.5em;padding-bottom:0"></a></div>&nbsp;&nbsp;<div class="footer-end1"> <a href="https://www.upyun.com/" target="_blank" alt="Server provider" rel="nofollow"><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="https://cdn.jsdelivr.net/gh/besscroft/cdn/img/icon/%E5%8F%88%E6%8B%8D%E4%BA%91_logo5.png" alt="upyun" style="height:2.2em;max-height:2.5em;padding-bottom:0"></a></div>&nbsp;&nbsp;<div class="footer-end1"> <a href="https://vercel.com/" target="_blank" alt="Server provider" rel="nofollow"><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="https://cdn.jsdelivr.net/gh/besscroft/cdn/img/icon/Vercel.png" alt="Vercel" style="height:2.2em;max-height:2.5em;padding-bottom:0"></a></div>&nbsp;&nbsp;<div class="footer-end1"> <a href="https://nextjs.org/" target="_blank" alt="Server provider" rel="nofollow"><img src="https://sc03.alicdn.com/kf/H5b14df755b3a4d6fb58ad1aa4240a256C.jpg" data-original="https://cdn.jsdelivr.net/gh/besscroft/cdn/img/icon/Next.png" alt="Next" style="height:2.2em;max-height:2.5em;padding-bottom:0"></a></div>&nbsp;&nbsp;</div><div style="display:none"><script src="//s95.cnzz.com/z_stat.php?id=1278139383&web_id=1278139383"></script></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><script src="//code.tidio.co/ooy0sel3mgcojgqg8pgqtafsc3i9jtjd.js"></script><script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script><script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : true,
      notify     : false,
      appId      : 'pcvL1JhE0y29EMcEdiYXL0t8-MdYXbMMI',
      appKey     : 'l1NnWuPVxr54hge6jHS2KEKj',
      placeholder: "说点儿什么吧~ o(*￣▽￣*)o，记得留下邮箱，方便我及时回复！也可以加群：821557332 一起交流！",
      avatar     : 'wavatar',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script><script>window.imageLazyLoadSetting={isSPA:!1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=i;var e=n.imageLazyLoadSetting.isSPA,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=r[a].getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight||document.documentElement.clientHeight)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e()},n.src=i}()}i(),n.addEventListener("scroll",function(){var t,e;t=i,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script></body></html><canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:1;pointer-events:none"></canvas><script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/besscroft/cdn/js/fireworks.js"></script><script src="https://cdn.jsdelivr.net/gh/besscroft/cdn/js/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE)</script>